# =============================================================================
# Parallel.GAMIT Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your values.
#
# DATABASE CONFIGURATION:
# ----------------------
# This file is the SINGLE SOURCE OF TRUTH for database settings.
# Both the web interface (Django/Docker) and CLI tools read from here.
# These settings override any values in gnss_data.cfg.

# -----------------------------------------------------------------------------
# PostgreSQL Database
# -----------------------------------------------------------------------------
# Where is your PostgreSQL server?
#   Bundled container (default):  POSTGRES_HOST=postgres
#   PostgreSQL on this machine:   POSTGRES_HOST=host.docker.internal
#   Remote server:                POSTGRES_HOST=db.example.com
# If omitted, docker-compose defaults to the bundled container.
POSTGRES_HOST=host.docker.internal
POSTGRES_PORT=5432
POSTGRES_DB=pgamit
POSTGRES_USER=pgamit
POSTGRES_PASSWORD=your_secure_password_here

# -----------------------------------------------------------------------------
# Django Settings
# -----------------------------------------------------------------------------
# Generate a secure secret key with:
#   python3 -c "import secrets; print(secrets.token_urlsafe(50))"
DJANGO_SECRET_KEY=generate-a-secure-key-here
DJANGO_DEBUG=False
DJANGO_HTTPS=False

# Comma-separated list of allowed hosts (required in production).
# Example: myapp.example.com,api.example.com
DJANGO_ALLOWED_HOSTS=localhost,127.0.0.1

# Comma-separated list of allowed CORS origins (required in production).
# If unset, CORS_ALLOW_ALL_ORIGINS follows DJANGO_DEBUG.
# Example: https://myapp.example.com,https://admin.example.com
# CORS_ALLOWED_ORIGINS=

# -----------------------------------------------------------------------------
# Redis
# -----------------------------------------------------------------------------
# Optional password for the in-container Redis instance.
# If set, all Celery/cache connections and redis-server will use authentication.
# REDIS_PASSWORD=

# -----------------------------------------------------------------------------
# Docker/Web UI Settings
# -----------------------------------------------------------------------------
APP_PORT=8080
# Directory on the host for uploaded station images and attached files
# Example: /home/username/pgamit-media
MEDIA_FOLDER_HOST_PATH=/path/to/media
# UID and GID for file ownership (run 'id' to find your values)
USER_ID_TO_SAVE_FILES=1000
GROUP_ID_TO_SAVE_FILES=1000
VITE_API_URL=http://localhost:8080

# -----------------------------------------------------------------------------
# File Upload Limits
# -----------------------------------------------------------------------------
MAX_SIZE_IMAGE_MB=75
MAX_SIZE_FILE_MB=75
RINEX_STATUS_DATE_SPAN_SECONDS=1000
# Django request body limits (override defaults of 200 MB / 10000 fields / 1000 files)
# DATA_UPLOAD_MAX_MEMORY_SIZE=209715200
# DATA_UPLOAD_MAX_NUMBER_FIELDS=10000
# DATA_UPLOAD_MAX_NUMBER_FILES=1000

# -----------------------------------------------------------------------------
# GNSS Configuration
# -----------------------------------------------------------------------------
# Path to gnss_data.cfg used by the geode package.
# POSTGRES_* env vars above override values in the config file.
# GNSS_CONFIG_FILE=/etc/gnss_data.cfg
